<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<title>–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫–≤–µ—Å—Ç</title>
<style>
  body {
  font-family: 'Inter', sans-serif;
  background: #f0f8ff;
  padding: 15px;
}

h1, h2 {
  font-family: 'Comfortaa', sans-serif;
}

  .container {
    max-width: 600px;
    margin: auto;
    background: #fff;
    padding: 15px;
    border-radius: 10px;
    box-shadow: 0 0 10px #ccc;
  }

  h1 {
  text-align: center;
  font-size: 17px;
}

  button {
  font-family: 'Comfortaa', sans-serif;
  display: block;
  margin: 10px 0;
  padding: 10px;
  width: 100%;
  font-size: 15px;
  cursor: pointer;
  border-radius: 5px;
}

  #finalInput {
    width: 100%;
    padding: 10px;
    margin: 10px 0;
    font-size: 15px;
  }

  h2 {
    margin-top: 0;
  }

  img.header {
    width: 100%;
    border-radius: 10px;
    margin-bottom: 10px;
  }
</style>
</head>
<body>
<div class="container">
  <img id="lisaImage" src="lissa1.png" alt="–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫–≤–µ—Å—Ç" class="header">

  <h1>üéÑ–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫–≤–µ—Å—ÇüéÑ</h1>
  <div id="game">
    <p>–ù–∞—á–Ω–µ–º?</p>
    <button onclick="nextQuestion()">–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç</button>
  </div>
</div>

<script>
const tasks = [
  {title:"0Ô∏è‚É£1Ô∏è‚É£ –≤–æ–ø—Ä–æ—Å", question:"–ß—Ç–æ —Ç—ã –ª—é–±–∏—à—å –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –Ω–∞ —Å–≤–µ—Ç–µ?", options:["–ü–µ–ª—å–º–µ–Ω–∏","–ü–µ—Ç—å –≤ –∫–∞—Ä–∞–æ–∫–µ","–°–ø–∞—Ç—å","–õ–∏—Å—É"], correct:3, letter:"–ò"},
  {title:"0Ô∏è‚É£2Ô∏è‚É£ –≤–æ–ø—Ä–æ—Å", question:"–ß—Ç–æ –≤—Å–µ–≥–¥–∞ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è, –Ω–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ–ø—É—Å–∫–∞–µ—Ç—Å—è?", options:["–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ","–£—Ä–æ–≤–µ–Ω—å –∂–∏–∑–Ω–∏","–ö–∞—Ä—å–µ—Ä–Ω—ã–π —Ä–æ—Å—Ç","–í–æ–∑—Ä–∞—Å—Ç"], correct:3, letter:"–ö"},
  {title:"0Ô∏è‚É£3Ô∏è‚É£ –≤–æ–ø—Ä–æ—Å", question:"–ß—Ç–æ —Ç—ã —Ç–æ—á–Ω–æ –ù–ï –±—É–¥–µ—à—å –µ—Å—Ç—å –≤ –Ω–æ–≤–æ–≥–æ–¥–Ω—é—é –Ω–æ—á—å?", options:["–ü–µ–ª—å–º–µ–Ω–∏","–°–∞–ª–∞—Ç—ã","–ú–∞–Ω–¥–∞—Ä–∏–Ω—ã","–ö–æ–Ω—Ñ–µ—Ç—ã"], correct:0, letter:"–û"},
  {title:"0Ô∏è‚É£4Ô∏è‚É£ –≤–æ–ø—Ä–æ—Å", question:"–ß—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º –±—ã—Ç—å –≤–º–µ—Å—Ç–µ?", options:["–°–∏–ª–∞ –ª—é–±–≤–∏","–°—Ç–∞–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç","–ú–∞–≥–∏—è","–¢–µ–ª–µ–ø–∞—Ç–∏—è"], correct:1, letter:"–ë"},
  {title:"0Ô∏è‚É£5Ô∏è‚É£ –≤–æ–ø—Ä–æ—Å", question:"–ö–∞–∫–æ–π –∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å–∞–º—ã–º —É–ø—Ä—è–º—ã–º?", options:["–û–≤–µ–Ω","–¢–µ–ª–µ—Ü","–õ–µ–≤","–°–∫–æ—Ä–ø–∏–æ–Ω"], correct:1, letter:"–Ø"},
  {title:"0Ô∏è‚É£6Ô∏è‚É£ –≤–æ–ø—Ä–æ—Å", question:"–ß—Ç–æ –º–æ–∂–Ω–æ –ø–æ–¥–∞—Ä–∏—Ç—å —á–µ–ª–æ–≤–µ–∫—É –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏?", options:["–î–µ–Ω—å–≥–∏","–ù–∏—á–µ–≥–æ","–í–Ω–∏–º–∞–Ω–∏–µ","–°–æ–≤–µ—Ç"], correct:2, letter:"–û"},
  {title:"0Ô∏è‚É£7Ô∏è‚É£ –≤–æ–ø—Ä–æ—Å", question:"–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–∞–º–∞—è –º–∞–ª–µ–Ω—å–∫–∞—è –ø–ª–∞–Ω–µ—Ç–∞ –°–æ–ª–Ω–µ—á–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã?", options:["–ú–µ—Ä–∫—É—Ä–∏–π","–í–µ–Ω–µ—Ä–∞","–Æ–ø–∏—Ç–µ—Ä","–ü–ª—É—Ç–æ–Ω"], correct:0, letter:"–¢"},
  {title:"0Ô∏è‚É£8Ô∏è‚É£ –≤–æ–ø—Ä–æ—Å", question:"–ß—Ç–æ —Ç—ã –¥–µ–ª–∞–µ—à—å –ª—É—á—à–µ –≤—Å–µ–≥–æ?", options:["–î–∞–µ—à—å —Å–æ–≤–µ—Ç—ã","–°–ø–æ—Ä–∏—à—å","–¢–µ—Ä–ø–∏—à—å –º–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä","–î–µ–ª–∞–µ—à—å –≤–∏–¥, —á—Ç–æ –Ω–µ –ª—é–±–∏—à—å –ø–µ–ª—å–º–µ–Ω–∏"], correct:2, letter:"–ñ"},
  {title:"0Ô∏è‚É£9Ô∏è‚É£ –≤–æ–ø—Ä–æ—Å", question:"–ß—Ç–æ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–∞—Å –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ?", options:["–ò–≥—Ä—ã","–ß—É–≤—Å—Ç–≤–æ —é–º–æ—Ä–∞","–ü—Ä–∏–≤—ã—á–∫–∞ –≤—Å—ë –æ–±—Å—É–∂–¥–∞—Ç—å","–°–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–≤"], correct:1, letter:"–ï"},
  {title:"1Ô∏è‚É£0Ô∏è‚É£ –≤–æ–ø—Ä–æ—Å", question:"–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –Ω–∞—à—É —Å–≤—è–∑—å –æ—Å–æ–±–µ–Ω–Ω–æ–π?", options:["–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ","–í—Ä–µ–º—è","–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å","–ú—ã —Å–∞–º–∏"], correct:3, letter:"–ë"},
  {title:"1Ô∏è‚É£1Ô∏è‚É£ –≤–æ–ø—Ä–æ—Å", question:"–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ –ø–æ –ø–ª–∞–Ω—É ‚Äî —ç—Ç–æ‚Ä¶", options:["–ü—Ä–æ–≤–∞–ª","–û—à–∏–±–∫–∞","–ö–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞","–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ"], correct:3, letter:"–£"},
  {title:"1Ô∏è‚É£2Ô∏è‚É£ –≤–æ–ø—Ä–æ—Å", question:"–ß—Ç–æ –º—ã –æ–±–∞ —É–º–µ–µ–º –æ–¥–∏–Ω–∞–∫–æ–≤–æ —Ö–æ—Ä–æ—à–æ?", options:["–í—ã–±–∏—Ä–∞—Ç—å —Ñ–∏–ª—å–º—ã","–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞","–®—É—Ç–∏—Ç—å","–ë—ã—Ç—å –≤–º–µ—Å—Ç–µ"], correct:2, letter:"–ö"}
];

let current = 0;
let letters = [];
let hintLevel = 0;
let timerInterval = null;
let timeLeft = 300;

const failMessages = [
  "–•–º–º‚Ä¶ —ç—Ç–æ –±—ã–ª–æ –ø–æ—á—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –µ—Å–ª–∏ –±—ã –º—ã –∏–≥—Ä–∞–ª–∏ –≤ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É—é –≤—Å–µ–ª–µ–Ω–Ω—É—é",
  "–õ–∏—Å–∞ –æ—á–µ–≤–∏–¥–Ω–æ —Ö–º—ã–∫–∞–µ—Ç‚Ä¶",
  "–¢—ã –≤—ã–±—Ä–∞–ª –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –ø—É—Ç—å. –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –æ–Ω –≤–µ–¥—ë—Ç –∫ ¬´–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç¬ª",
  "–û—à–∏–±–∫–∞ 404: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑",
  "–£–≤—ã, –Ω–æ –Ω–µ—Ç",
  "–ù–µ —É–≥–∞–¥–∞–ª‚Ä¶ –Ω–æ –ø–æ–ø—ã—Ç–∫–∞ –∑–∞—Å—á–∏—Ç–∞–Ω–∞",
  "–≠—Ç–æ —Ç–∞–∫ –∂–µ —Å—Ç—Ä–∞–Ω–Ω–æ, –∫–∞–∫ –µ—Å—Ç—å –ø–∏—Ü—Ü—É –±–µ–∑ —Å—ã—Ä–∞",
  "–ü—Ä–æ–≤–∞–ª! –õ–∏—Å–∞ –Ω–∞–≤–µ—Ä–Ω–æ–µ –ø—Ä–æ—Å—Ç–æ –≤ —à–æ–∫–µ",
  "–ê–π-—è–π-—è–π! –ö—Ç–æ —ç—Ç–æ —Ç—É—Ç —Ç–∞–∫–æ–π –≥–ª—É–ø–∏?",
  "–≠—Ç–æ –∫–∞–∫ –ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å Windows 95 –Ω–∞ iPhone - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ",
  "–î–∞ –∫–∞–∫–æ–µ —Ç–∞–º!"
];

function nextQuestion() {
  if(current < tasks.length){
    const task = tasks[current];
    let html = `<h2>${task.title}</h2>`;
    html += `<p>${task.question}</p>`;
    task.options.forEach((opt,i)=>{
      html += `<button onclick="checkAnswer(${i})">${opt}</button>`;
    });
    document.getElementById("game").innerHTML = html;
  } else {
    showFinal();
  }
}

function checkAnswer(index) {
  const task = tasks[current];
  if(index === task.correct){
    if(task.letter) letters.push(task.letter);
    alert(task.letter ? "–ü—Ä–∞–≤–∏–ª—å–Ω–æ!üéâ –¢—ã –ø–æ–ª—É—á–∞–µ—à—å –∫–æ–¥-–±—É–∫–≤—É: "+task.letter : "–ü—Ä–∞–≤–∏–ª—å–Ω–æ!üéâ –¢—ã –ø–æ–ª—É—á–∞–µ—à—å –∫–æ–¥-–±—É–∫–≤—É: (–ø—Ä–æ–±–µ–ª)");
  } else {
    const msg = failMessages[Math.floor(Math.random()*failMessages.length)];
    alert(msg);
    return;
  }
  current++;
  nextQuestion();
}

function showFinal() {
  document.getElementById("game").innerHTML = `
    <p><strong>–í—Å–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –ø–æ–ª—É—á–µ–Ω—ã.</strong></p>
    <p>–ë—É–∫–≤—ã:<br>${letters.join(" ")}</p>
    <p>–°–æ—Å—Ç–∞–≤—å –∏–∑ –Ω–∏—Ö —Ñ—Ä–∞–∑—É –∏ –≤–≤–µ–¥–∏ —Å—é–¥–∞:</p>
    <input id="finalInput" placeholder="–í–≤–µ–¥–∏ —Ñ—Ä–∞–∑—É" style="width:100%; max-width:100%; box-sizing:border-box;"/>
    <button onclick="checkFinal()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
    <hr>
    <button id="hintBtn" onclick="startHintTask()">–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—Éüîç</button>
    <div id="hintBlock"></div>
  `;
}

function startHintTask() {
  if (hintLevel >= 3) return;

  const tasks = [
    "–ó–∞ 5 –º–∏–Ω—É—Ç –Ω–∞–ø–∏—à–∏ 9 —ç–ø–∏—Ç–µ—Ç–æ–≤ - –ø–æ 1 –Ω–∞ –∫–∞–∂–¥—É—é –±—É–∫–≤—É –º–æ–µ–≥–æ –∏–º–µ–Ω–∏",
    "–ó–∞ 5 –º–∏–Ω—É—Ç –ø–µ—Ä–µ—á–∏—Å–ª–∏ –≤—Å–µ (–∏–ª–∏ –ø–æ—á—Ç–∏ –≤—Å–µ) –∏–≥—Ä—ã, –≤ –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏–≥—Ä–∞–ª–∏ –≤–º–µ—Å—Ç–µ",
    "–ó–∞ 5 –º–∏–Ω—É—Ç –≤—Å–ø–æ–º–Ω–∏ –≤—Å–µ —Å–ª–æ–≤–∞ –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –ª–∞—Ç—ã—à—Å–∫–æ–º, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã –∑–Ω–∞–µ—à—å"
  ];

  timeLeft = 300;
  document.getElementById("hintBtn").style.display = "none";

  document.getElementById("hintBlock").innerHTML = `
    <p><strong>–ó–∞–¥–∞–Ω–∏–µ –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–∫–∏:</strong></p>
    <p>${tasks[hintLevel]}</p>
    <p>‚è≥ –û—Å—Ç–∞–ª–æ—Å—å: <span id="timer">05:00</span></p>
  `;

  timerInterval = setInterval(updateTimer, 1000);
}

function updateTimer() {
  timeLeft--;
  const minutes = String(Math.floor(timeLeft / 60)).padStart(2, "0");
  const seconds = String(timeLeft % 60).padStart(2, "0");

  document.getElementById("timer").textContent = `${minutes}:${seconds}`;

  if (timeLeft <= 0) {
    clearInterval(timerInterval);
    document.getElementById("hintBlock").innerHTML += `
      <button onclick="confirmTask()">–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ‚úÖ</button>
    `;
  }
}

function confirmTask() {
  hintLevel++;

  let hintText = "";
  if (hintLevel === 1) {
    hintText = "üß©–ü–æ–¥—Å–∫–∞–∑–∫–∞ ‚Ññ1<br>–ü–µ—Ä–≤–∞—è –±—É–∫–≤–∞ ‚Äî <strong>–ö</strong>";
  } else if (hintLevel === 2) {
    hintText = "üß©–ü–æ–¥—Å–∫–∞–∑–∫–∞ ‚Ññ2<br>–§—Ä–∞–∑–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ <strong>—Ç—Ä—ë—Ö —Å–ª–æ–≤</strong>";
  } else if (hintLevel === 3) {
    hintText = "üß©–ü–æ–¥—Å–∫–∞–∑–∫–∞ ‚Ññ3<br>–≠—Ç—É —Ñ—Ä–∞–∑—É —è –≥–æ–≤–æ—Ä—é —Ä–µ–¥–∫–æ –∏–ª–∏ –ø–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞";
  }

  document.getElementById("hintBlock").innerHTML = `
    <p>${hintText}</p>
    ${
      hintLevel < 3
        ? `<button onclick="startHintTask()">–ï—â—ë –ø–æ–¥—Å–∫–∞–∑–∫–∞üîç</button>`
        : `<p>–≠—Ç–æ –±—ã–ª–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–¥—Å–∫–∞–∑–∫–∞üòâ</p>`
    }
  `;
}

function checkFinal() {
  // –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –≤–≤–æ–¥: —É–±–∏—Ä–∞–µ–º –≤—Å–µ –ø—Ä–æ–±–µ–ª—ã, –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä
  let input = document.getElementById("finalInput").value.replace(/[\s\u00A0]+/g,"").toUpperCase();
  // —Å–ø–∏—Å–æ–∫ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
  const validAnswers = [
    "–ö–û–¢–ò–ö–û–ë–û–ñ–ê–Æ –¢–ï–ë–Ø",
    "–ö–û–¢–ò–ö –û–ë–û–ñ–ê–Æ –¢–ï–ë–Ø",
    "–ö–æ—Ç–∏–∫ –æ–±–æ–∂–∞—é —Ç–µ–±—è",
    "–∫–æ—Ç–∏–∫–æ–±–æ–∂–∞—é—Ç–µ–±—è",
    "–∫–æ—Ç–∏–∫ –æ–±–æ–∂–∞—é —Ç–µ–±—è",
    "–ö–æ—Ç–∏–∫–û–±–æ–∂–∞—é–¢–µ–±—è"
  ];
  // –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
  const normalizedValid = validAnswers.map(ans => ans.replace(/[\s\u00A0]+/g,"").toUpperCase());

  if(normalizedValid.includes(input)){
    document.getElementById("game").innerHTML = `
      <p>–¢—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ–±—Ä–∞–ª —Ñ—Ä–∞–∑—É: –ö–û–¢–ò–ö –û–ë–û–ñ–ê–Æ –¢–ï–ë–Ø</p>
      <p>–¢—ã —É–º–µ–µ—à—å –¥—É–º–∞—Ç—å, –ø—Ä–æ–±–æ–≤–∞—Ç—å –∏ –Ω–µ —Å–¥–∞–≤–∞—Ç—å—Å—è.<br>
      <p>–ò–Ω–æ–≥–¥–∞ –æ—à–∏–±–∞—Ç—å—Å—è, –Ω–æ –≤—Å–µ–≥–¥–∞ –∏–¥—Ç–∏ –¥–∞–ª—å—à–µ.<br>
      <p>–û–±–æ–∂–∞—é —Ç–µ–±—èü§ó<br>
      <p>–° –ù–æ–≤—ã–º –≥–æ–¥–æ–ºüéÑ</p>
      <p>–õ–∏—Å–∞</p>
    `;
  } else {
    alert("–•–º, –ø–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑!");
  }
}
</script>

</body>
</html>