<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<title>–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫–≤–µ—Å—Ç</title>
<style>
  body {
  font-family: 'Inter', sans-serif;
  background: #f0f8ff;
  padding: 15px;
}

h1, h2 {
  font-family: 'Comfortaa', sans-serif;
}

  .container {
    max-width: 600px;
    margin: auto;
    background: #fff;
    padding: 15px;
    border-radius: 10px;
    box-shadow: 0 0 10px #ccc;
  }

  h1 {
  text-align: center;
  font-size: 17px; 
}

  button {
  font-family: 'Comfortaa', sans-serif;
  display: block;
  margin: 10px 0;
  padding: 10px;
  width: 100%;
  font-size: 15px;
  cursor: pointer;
  border-radius: 5px;
}

  #finalInput {
    width: 100%;
    padding: 10px;
    margin: 10px 0;
    font-size: 15px;
  }

  h2 {
  margin-top: 0;
  font-size: 15px; 
}

  img.header {
    width: 100%;
    border-radius: 10px;
    margin-bottom: 15px;
  }
</style>
</head>
<body>
<div class="container">
  <img id="lisaImage" src="lisa4.png" alt="–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫–≤–µ—Å—Ç" class="header">

  <h1>üéÑ–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫–≤–µ—Å—ÇüéÑ</h1>
  <div id="game">
    <p>–ù–∞—á–Ω–µ–º?</p>
    <button onclick="nextQuestion()">–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç</button>
  </div>
</div>

<script>
const tasks = [
  {title:"0Ô∏è‚É£1Ô∏è‚É£ –°–∏—Å—Ç–µ–º–Ω—ã–π —Å–±–æ–π", question:"–ß—Ç–æ —á–∞—â–µ –≤—Å–µ–≥–æ –ª–æ–º–∞–µ—Ç –ª—é–±–æ–π –∏–¥–µ–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω?", options:["–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞","–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è","–†–µ–∞–ª—å–Ω–æ—Å—Ç—å","–¢–∞–π–º-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç"], correct:2, letter:"–ú"},
  {title:"0Ô∏è‚É£2Ô∏è‚É£ –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç", question:"–ó–∞—á–µ–º –≤ –º—É–∑—ã–∫–µ –Ω—É–∂–Ω–∞ –ø–∞—É–∑–∞?", options:["–≠—Ç–æ –æ—à–∏–±–∫–∞","–ß—Ç–æ–±—ã –æ—Ç–¥–æ—Ö–Ω—É—Ç—å","–ß—Ç–æ–±—ã –ø–æ—Å–ª–µ –º—É–∑—ã–∫–∞ –∑–∞–∑–≤—É—á–∞–ª–∞ —Å–∏–ª—å–Ω–µ–µ","–°–ª—É—á–∞–π–Ω–æ"], correct:2, letter:"–Ø"},
  {title:"0Ô∏è‚É£3Ô∏è‚É£ –ñ–∏–∑–Ω–µ–Ω–Ω–∞—è –∏—Å—Ç–∏–Ω–∞", question:"–ö–æ–≥–¥–∞ —Å–¥–µ–ª–∞–Ω–Ω—ã–π –≤—ã–±–æ—Ä —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º?", options:["–ö–æ–≥–¥–∞ –≤ –∏—Ç–æ–≥–µ –≤—Å—ë —Ö–æ—Ä–æ—à–æ","–ö–æ–≥–¥–∞ —Å–∞–º–æ–º—É –Ω—Ä–∞–≤–∏—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç","–ö–æ–≥–¥–∞ –¥—Ä—É–∑—å—è –ø–æ—Ö–≤–∞–ª–∏–ª–∏","–ö–æ–≥–¥–∞ –≤—Å—ë –ø–æ–ª—É—á–∏–ª–æ—Å—å –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ"], correct:1, letter:"–†"},
  {title:"0Ô∏è‚É£4Ô∏è‚É£ –®–∞—Ö–º–∞—Ç–Ω—ã–π –º–æ–º–µ–Ω—Ç", question:"–ü–æ—á–µ–º—É –ø–æ—Ä–∞–∂–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –Ω–µ –∫–æ–Ω–µ—Ü?", options:["–ü–æ—Ç–æ–º—É —á—Ç–æ –æ—à–∏–±–∫–∏ —É—á–∞—Ç –ª—É—á—à–µ, —á–µ–º –ø–æ–±–µ–¥—ã","–ü–æ—Ç–æ–º—É —á—Ç–æ –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞","–ü–æ—Ç–æ–º—É —á—Ç–æ —Ç–∞–∫ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö","–ü–æ—Ç–æ–º—É —á—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–≤–µ–∑—ë—Ç –≤ –¥—Ä—É–≥–æ–π —Ä–∞–∑"], correct:0, letter:"–ì"},
  {title:"0Ô∏è‚É£5Ô∏è‚É£ –ö—É–±–∏—á–µ—Å–∫–∏–π –º–∏—Ä", question:"–° —á–µ–≥–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ª—é–±–æ–π –∫—Ä—É—Ç–æ–π –ø—Ä–æ–µ–∫—Ç?", options:["–° —Ä–µ—Å—É—Ä—Å–æ–≤","–° –ø–ª–∞–Ω–∞","–° –∏–¥–µ–∏","–° —á—É–∂–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞"], correct:2, letter:"–í"},
  {title:"0Ô∏è‚É£6Ô∏è‚É£ –û—à–∏–±–∫–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞", question:"–ß—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–µ–ª–∞—Ç—å –Ω–µ —É–º–µ—é—Ç?", options:["–°—á–∏—Ç–∞—Ç—å","–ü–æ–≤—Ç–æ—Ä—è—Ç—å","–£–¥–∏–≤–ª—è—Ç—å—Å—è","–ó–∞–ø–æ–º–∏–Ω–∞—Ç—å"], correct:2, letter:"–û"},
  {title:"0Ô∏è‚É£7Ô∏è‚É£ –î—Ä—É–∂–µ—Å–∫–∏–π –±–∞–≥", question:"–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –¥—Ä—É–≥–∞ –Ω–∞—Å—Ç–æ—è—â–∏–º?", options:["–ö–æ–≥–¥–∞ –æ–Ω –≤—Å–µ–≥–¥–∞ —Ä—è–¥–æ–º","–ö–æ–≥–¥–∞ –æ–Ω —Å–º–µ—à–Ω–æ–π","–ö–æ–≥–¥–∞ –æ–Ω –ø–æ–º–æ–≥–∞–µ—Ç –∏ –¥–µ–ª–∏—Ç—Å—è","–ö–æ–≥–¥–∞ –æ–Ω —É–º–µ–µ—Ç —Ö–æ—Ä–æ—à–æ –∏–≥—Ä–∞—Ç—å"], correct:0, letter:"–ò"},
  {title:"0Ô∏è‚É£8Ô∏è‚É£ –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä", question:"–ß—Ç–æ –≤–∞–∂–Ω–µ–µ –≤ –º—É–∑—ã–∫–µ?", options:["–ì—Ä–æ–º–∫–æ—Å—Ç—å","–°–∫–æ—Ä–æ—Å—Ç—å","–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ","–ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å"], correct:2, letter:"–ê"},
  {title:"0Ô∏è‚É£9Ô∏è‚É£ –õ–æ–≥–∏—á–µ—Å–∫–∞—è –ª–æ–≤—É—à–∫–∞", question:"–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —á–µ–ª–æ–≤–µ–∫–∞ —Å–∏–ª—å–Ω–µ–µ?", options:["–ü–æ–±–µ–¥—ã","–û–ø—ã—Ç","–û—à–∏–±–∫–∏","–í—Å—ë —Å—Ä–∞–∑—É"], correct:3, letter:"–£"},
  {title:"1Ô∏è‚É£0Ô∏è‚É£ –£—á–µ–±–Ω–∞—è —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è", question:"–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ —É—á–∏—Ç—å—Å—è –Ω–æ–≤–æ–º—É?", options:["–ß—Ç–æ–±—ã –≤—Å–µ–º –Ω—Ä–∞–≤–∏—Ç—å—Å—è","–ß—Ç–æ–±—ã —Å—Ç–∞—Ç—å —É–º–Ω–µ–µ","–ß—Ç–æ–±—ã –±—ã—Å—Ç—Ä–µ–µ –∏–≥—Ä–∞—Ç—å","–ß—Ç–æ–±—ã –Ω–∏–∫—Ç–æ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª–µ–π –Ω–µ –∑–ª–∏–ª—Å—è"], correct:1, letter:"–°"},
  {title:"1Ô∏è‚É£1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∂–∏–∑–Ω—å", question:"–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ –ø–æ –ø–ª–∞–Ω—É ‚Äî —ç—Ç–æ‚Ä¶", options:["–ü—Ä–æ–≤–∞–ª","–û—à–∏–±–∫–∞","–ö–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞","–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ"], correct:3, letter:"–ñ"},
  {title:"1Ô∏è‚É£2Ô∏è‚É£ –ö–æ–º–∞–Ω–¥–Ω—ã–π —Ç–µ—Å—Ç", question:"–ß—Ç–æ –≤–∞–∂–Ω–µ–µ –≤—Å–µ–≥–æ –≤ –∫–æ–º–∞–Ω–¥–µ?", options:["–ë—ã—Ç—å –≥–ª–∞–≤–Ω—ã–º","–ë—ã—Ç—å –ø—Ä–∞–≤—ã–º","–ë—ã—Ç—å –ø–µ—Ä–≤—ã–º","–ë—ã—Ç—å –≤–º–µ—Å—Ç–µ"], correct:3, letter:"–¨"}
];

let current = 0;
let letters = [];
let hintLevel = 0;
let timerInterval = null;
let timeLeft = 300;

const failMessages = [
  "–•–º–º‚Ä¶ —ç—Ç–æ –±—ã–ª–æ –ø–æ—á—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –µ—Å–ª–∏ –±—ã –º—ã –∏–≥—Ä–∞–ª–∏ –≤ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É—é –≤—Å–µ–ª–µ–Ω–Ω—É—é",
  "–ú–∞–º–∞ –æ—á–µ–≤–∏–¥–Ω–æ —Ö–º—ã–∫–∞–µ—Ç‚Ä¶",
  "–í—ã –≤—ã–±—Ä–∞–ª–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –ø—É—Ç—å. –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –æ–Ω –≤–µ–¥—ë—Ç –∫ ¬´–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç¬ª",
  "–û—à–∏–±–∫–∞ 404: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑",
  "–£–≤—ã, –Ω–æ –Ω–µ—Ç",
  "–ù–µ —É–≥–∞–¥–∞–ª–∏‚Ä¶ –Ω–æ –ø–æ–ø—ã—Ç–∫–∞ –∑–∞—Å—á–∏—Ç–∞–Ω–∞",
  "–≠—Ç–æ —Ç–∞–∫ –∂–µ —Å—Ç—Ä–∞–Ω–Ω–æ, –∫–∞–∫ –µ—Å—Ç—å –ø–∏—Ü—Ü—É –±–µ–∑ —Å—ã—Ä–∞",
  "–ü—Ä–æ–≤–∞–ª! –ú–∞–º–∞ –Ω–∞–≤–µ—Ä–Ω–æ–µ –ø—Ä–æ—Å—Ç–æ –≤ —à–æ–∫–µ",
  "–ê–π-—è–π-—è–π! –ö—Ç–æ —ç—Ç–æ —Ç—É—Ç —Ç–∞–∫–æ–π –≥–ª—É–ø–∏?",
  "–≠—Ç–æ –∫–∞–∫ –ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å Windows 95 –Ω–∞ iPhone - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ",
  "–î–∞ –∫–∞–∫–æ–µ —Ç–∞–º!"
];

function nextQuestion() {
  if(current < tasks.length){
    const task = tasks[current];
    let html = `<h2>${task.title}</h2>`;
    html += `<p>${task.question}</p>`;
    task.options.forEach((opt,i)=>{
      html += `<button onclick="checkAnswer(${i})">${opt}</button>`;
    });
    document.getElementById("game").innerHTML = html;
  } else {
    showFinal();
  }
}

function checkAnswer(index) {
  const task = tasks[current];
  if(index === task.correct){
    if(task.letter) letters.push(task.letter);
    alert(task.letter ? "–ü—Ä–∞–≤–∏–ª—å–Ω–æ!üéâ –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –∫–æ–¥-–±—É–∫–≤—É: "+task.letter : "–ü—Ä–∞–≤–∏–ª—å–Ω–æ!üéâ –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –∫–æ–¥-–±—É–∫–≤—É: (–ø—Ä–æ–±–µ–ª)");
  } else {
    const msg = failMessages[Math.floor(Math.random()*failMessages.length)];
    alert(msg);
    return;
  }
  current++;
  nextQuestion();
}

function showFinal() {
  document.getElementById("game").innerHTML = `
    <p><strong>–í—Å–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –ø–æ–ª—É—á–µ–Ω—ã.</strong></p>
    <p>–ë—É–∫–≤—ã:<br>${letters.join(" ")}</p>
    <p>–°–æ—Å—Ç–∞–≤—å—Ç–µ –∏–∑ –Ω–∏—Ö —Ñ—Ä–∞–∑—É –∏ –≤–≤–µ–¥–∏—Ç–µ —Å—é–¥–∞:</p>
    <input id="finalInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ñ—Ä–∞–∑—É" style="width:100%; max-width:100%; box-sizing:border-box;"/>
    <button onclick="checkFinal()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
    <hr>
    <button id="hintBtn" onclick="startHintTask()">–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—Éüîç</button>
    <div id="hintBlock"></div>
  `;
}

function startHintTask() {
  if (hintLevel >= 3) return;

  const tasks = [
    "5 –º–∏–Ω—É—Ç —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å –∫–∞–∫ —Ä–æ–±–æ—Çü§ñ",
    "5 –º–∏–Ω—É—Ç –∞–ø–ª–æ–¥–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ—Ä–∞–∑—ã —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞üëè",
    "5 –º–∏–Ω—É—Ç –æ–±—ä—è—Å–Ω—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∂–µ—Å—Ç–∞–º–∏üñêÔ∏è"
  ];

  timeLeft = 300;
  document.getElementById("hintBtn").style.display = "none";

  document.getElementById("hintBlock").innerHTML = `
    <p><strong>–ó–∞–¥–∞–Ω–∏–µ –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–∫–∏:</strong></p>
    <p>${tasks[hintLevel]}</p>
    <p>‚è≥ –û—Å—Ç–∞–ª–æ—Å—å: <span id="timer">05:00</span></p>
  `;

  timerInterval = setInterval(updateTimer, 1000);
}

function updateTimer() {
  timeLeft--;
  const minutes = String(Math.floor(timeLeft / 60)).padStart(2, "0");
  const seconds = String(timeLeft % 60).padStart(2, "0");

  document.getElementById("timer").textContent = `${minutes}:${seconds}`;

  if (timeLeft <= 0) {
    clearInterval(timerInterval);
    document.getElementById("hintBlock").innerHTML += `
      <button onclick="confirmTask()">–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ‚úÖ</button>
    `;
  }
}

function confirmTask() {
  hintLevel++;

  let hintText = "";
  if (hintLevel === 1) {
    hintText = "üß©–ü–æ–¥—Å–∫–∞–∑–∫–∞ ‚Ññ1<br>–ü–µ—Ä–≤–∞—è –±—É–∫–≤–∞ ‚Äî <strong>–Ø</strong>";
  } else if (hintLevel === 2) {
    hintText = "üß©–ü–æ–¥—Å–∫–∞–∑–∫–∞ ‚Ññ2<br>–§—Ä–∞–∑–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ <strong>—Ç—Ä—ë—Ö —Å–ª–æ–≤</strong>";
  } else if (hintLevel === 3) {
    hintText = "üß©–ü–æ–¥—Å–∫–∞–∑–∫–∞ ‚Ññ3<br>–≠—Ç—É —Ñ—Ä–∞–∑—É —á–∞—â–µ –≥–æ–≤–æ—Ä—è—Ç <strong>—Ä–æ–¥–∏—Ç–µ–ª–∏</strong>, —á–µ–º –∏–≥—Ä–æ–∫–∏ –∏–ª–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã";
  }

  document.getElementById("hintBlock").innerHTML = `
    <p>${hintText}</p>
    ${
      hintLevel < 3
        ? `<button onclick="startHintTask()">–ï—â—ë –ø–æ–¥—Å–∫–∞–∑–∫–∞üîç</button>`
        : `<p>–≠—Ç–æ –±—ã–ª–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–¥—Å–∫–∞–∑–∫–∞üòâ</p>`
    }
  `;
}

function checkFinal() {
  // –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –≤–≤–æ–¥: —É–±–∏—Ä–∞–µ–º –≤—Å–µ –ø—Ä–æ–±–µ–ª—ã, –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä
  let input = document.getElementById("finalInput").value.replace(/[\s\u00A0]+/g,"").toUpperCase();
  // —Å–ø–∏—Å–æ–∫ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
  const validAnswers = [
    "–Ø–í–ê–ú–ò–ì–û–†–ñ–£–°–¨",
    "–Ø –í–ê–ú–ò –ì–û–†–ñ–£–°–¨",
    "–Ø –≤–∞–º–∏ –≥–æ—Ä–∂—É—Å—å",
    "—è–≤–∞–º–∏–≥–æ—Ä–∂—É—Å—å",
    "—è –≤–∞–º–∏ –≥–æ—Ä–∂—É—Å—å",
    "–Ø–í–∞–º–∏–ì–æ—Ä–∂—É—Å—å"
  ];
  // –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
  const normalizedValid = validAnswers.map(ans => ans.replace(/[\s\u00A0]+/g,"").toUpperCase());

  if(normalizedValid.includes(input)){
    document.getElementById("game").innerHTML = `
      <p>–í—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ–±—Ä–∞–ª–∏ —Ñ—Ä–∞–∑—É: –Ø –í–ê–ú–ò –ì–û–†–ñ–£–°–¨</p>
      <p>–í—ã —É–º–µ–µ—Ç–µ –¥—É–º–∞—Ç—å, –ø—Ä–æ–±–æ–≤–∞—Ç—å –∏ –Ω–µ —Å–¥–∞–≤–∞—Ç—å—Å—è.<br>
      <p>–ò–Ω–æ–≥–¥–∞ –æ—à–∏–±–∞—Ç—å—Å—è, –Ω–æ –≤—Å–µ–≥–¥–∞ –∏–¥—Ç–∏ –¥–∞–ª—å—à–µ.<br>
      <p>–Ø –≤–∞–º–∏ –≥–æ—Ä–∂—É—Å—å!<br>
      <p>–° –ù–æ–≤—ã–º –≥–æ–¥–æ–ºüéÑ</p>
      <p>–ú–∞–º—É–ª–µ—á–∫–∞ü§ó</p>
    `;
  } else {
    alert("–•–º, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑!");
  }
}
</script>

</body>
</html>